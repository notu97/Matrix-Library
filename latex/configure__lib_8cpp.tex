\hypertarget{configure__lib_8cpp}{}\section{configure\+\_\+lib.\+cpp File Reference}
\label{configure__lib_8cpp}\index{configure\+\_\+lib.\+cpp@{configure\+\_\+lib.\+cpp}}


A Cpp configuration file to find the best leaf size for Stressan\textquotesingle{}s Algorithm and generate a \char`\"{}configure.\+txt\char`\"{} file. This file evaluates the execution time of the matmul function in class Big\+Matrix as function of different L\+E\+A\+F\+\_\+\+S\+I\+ZE.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{configure__lib_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A Cpp configuration file to find the best leaf size for Stressan\textquotesingle{}s Algorithm and generate a \char`\"{}configure.\+txt\char`\"{} file. This file evaluates the execution time of the matmul function in class Big\+Matrix as function of different L\+E\+A\+F\+\_\+\+S\+I\+ZE. 

\begin{DoxyAuthor}{Author}
Shiladitya Biswas 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2021-\/01-\/29
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2021 
\end{DoxyCopyright}


\subsection{Function Documentation}
\mbox{\Hypertarget{configure__lib_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{configure__lib_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{configure\+\_\+lib.\+cpp@{configure\+\_\+lib.\+cpp}!main@{main}}
\index{main@{main}!configure\+\_\+lib.\+cpp@{configure\+\_\+lib.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}


\begin{DoxyCode}
23                                \{
24 
25     cout<<\textcolor{stringliteral}{"------------ Program to find out optimal LEAF\_SIZE ---------------\(\backslash\)n"};
26 
27     std::ofstream file;
28         file.open(\textcolor{stringliteral}{"configure.txt"}); \textcolor{comment}{// Open configure.txt file}
29 
30     \textcolor{keywordtype}{int} N\_epoch=atoi(argv[1]);
31     \hyperlink{classMATOPS_1_1BigMatrix}{BigMatrix<int>} MatObj;
32         
33     cout<<\textcolor{stringliteral}{"Configuring ......\(\backslash\)n"};
34     
35     \textcolor{keywordtype}{double} min\_time= DBL\_MAX;
36     \textcolor{keywordtype}{int} final\_leaf\_size=0;
37     \textcolor{keywordtype}{int} l\_size=8;
38         \textcolor{comment}{// While loop to keep checking and tracking the best LEAF SIZE for the Library. Once we find the
       LEAF\_SIZE that gives }
39         \textcolor{comment}{// has the best/ lowest execution time we break out of the while loop and store the LEAF\_SIZE value
       in a configure.txt file.}
40         \textcolor{keywordflow}{while}(1) 
41         \{   
42             cout<<\textcolor{stringliteral}{"Testing Library with LEAF\_SIZE: "}<<l\_size<<\textcolor{charliteral}{'\(\backslash\)n'};
43             MatObj.\hyperlink{classMATOPS_1_1BigMatrix_a654c6a62d3dec6a4728e56dd361adbf3}{set\_LEAF\_SIZE}(l\_size); \textcolor{comment}{// set the LEAF\_SIZE value in the matrix.h file.}
44             \textcolor{keywordtype}{double} temp\_time=0;
45             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} n=0;n<N\_epoch;n++) \textcolor{comment}{// Run the multiplication process for N\_epoch of times for a fixed
       LEAF\_SIZE value.}
46             \{   
47                 \textcolor{comment}{// Determine the Time taken to do the multiplication operation}
48                 \textcolor{keyword}{auto} start = std::chrono::steady\_clock::now();
49                 MatObj.\hyperlink{classMATOPS_1_1BigMatrix_ac793236874a8ccfd66e21006011b9cff}{matmul}(\textcolor{stringliteral}{"Configure\_Data/large\_A.csv"},\textcolor{stringliteral}{"Configure\_Data/large\_B.csv"},\textcolor{stringliteral}{"
      Configure\_Data/Ans.csv"});
50                 \textcolor{keyword}{auto} end = std::chrono::steady\_clock::now();
51                 std::chrono::duration<double> elapsed\_seconds = end-start;
52                 temp\_time+=elapsed\_seconds.count();
53 
54             \}
55             temp\_time/=N\_epoch; \textcolor{comment}{// Find the average time taken over the N\_epoch steps}
56             
57             \textcolor{keywordflow}{if}(temp\_time<min\_time) \textcolor{comment}{// Find the LEAF\_SIZE for which the least time is taken.}
58             \{
59                 min\_time=temp\_time;
60                 final\_leaf\_size=l\_size;
61             \}
62             \textcolor{keywordflow}{else}
63             \{
64                 \textcolor{keywordflow}{break};
65             \}
66             l\_size=2*l\_size; \textcolor{comment}{// Double the leaf\_size after every iteration}
67         \}
68         \textcolor{comment}{// cout<<final\_leaf\_size;}
69         
70         file<<final\_leaf\_size<<\textcolor{charliteral}{'\(\backslash\)n'};  \textcolor{comment}{// Store the Optimal LEAF\_SIZE value in a txt file }
71         cout<<\textcolor{stringliteral}{"configure.txt File Generated \(\backslash\)n"};
72         file.close();
73         \textcolor{comment}{// cout<<"Best Leaf size = "<<final\_leaf\_size<<'\(\backslash\)n';}
74 
75     \textcolor{keywordflow}{return} 0;
76 \}
\end{DoxyCode}
